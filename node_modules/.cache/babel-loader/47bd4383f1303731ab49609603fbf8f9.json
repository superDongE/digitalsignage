{"ast":null,"code":"import _Reflect$construct from \"@babel/runtime-corejs2/core-js/reflect/construct\";\nimport _toConsumableArray from \"@babel/runtime-corejs2/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport _JSXStyle from \"styled-jsx/style\";\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = _Reflect$construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !_Reflect$construct) return false; if (_Reflect$construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(_Reflect$construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { Component } from 'react';\nimport React from 'react';\nimport ContentLoader from 'react-content-loader';\nimport { SortableContainer, SortableElement } from 'react-sortable-hoc';\nimport arrayMove from 'array-move';\nimport SlideCard from './SlideCard';\nimport { getSlides } from '../../actions/slide';\nimport { reorderSlides } from '../../actions/slideshow';\nvar SortableItem = SortableElement(SlideCard);\nvar SortableList = SortableContainer(function (_ref) {\n  var items = _ref.items,\n      refresh = _ref.refresh;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"jsx-3355241823\" + \" \" + 'list'\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"jsx-3355241823\" + \" \" + 'timeline'\n  }), items.map(function (value, index) {\n    return /*#__PURE__*/React.createElement(SortableItem, {\n      key: \"item-\".concat(index),\n      index: index,\n      id: index,\n      value: value,\n      refresh: refresh\n    });\n  }), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"3355241823\"\n  }, \".list.jsx-3355241823{position:relative;}.timeline.jsx-3355241823{width:4px;height:calc(100% - 20px);border-radius:2px;position:absolute;left:50%;top:10px;margin-left:-2px;background:#cccccc;z-index:0;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcdXNlclxcRGVza3RvcFxcZGlnaXRhbHNpZ25hZ2UtbWFzdGVyXFxjb21wb25lbnRzXFxBZG1pblxcU2xpZGVMaXN0LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQTJCUyxBQUcrQixBQUdSLFVBQ2UsUUFIM0IsaUJBSW9CLGtCQUNBLGtCQUNULFNBQ0EsU0FDUSxpQkFDRSxtQkFDVCxVQUNaIiwiZmlsZSI6IkM6XFxVc2Vyc1xcdXNlclxcRGVza3RvcFxcZGlnaXRhbHNpZ25hZ2UtbWFzdGVyXFxjb21wb25lbnRzXFxBZG1pblxcU2xpZGVMaXN0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG5pbXBvcnQgQ29udGVudExvYWRlciBmcm9tICdyZWFjdC1jb250ZW50LWxvYWRlcidcbmltcG9ydCB7IFNvcnRhYmxlQ29udGFpbmVyLCBTb3J0YWJsZUVsZW1lbnQgfSBmcm9tICdyZWFjdC1zb3J0YWJsZS1ob2MnXG5pbXBvcnQgYXJyYXlNb3ZlIGZyb20gJ2FycmF5LW1vdmUnXG5cbmltcG9ydCBTbGlkZUNhcmQgZnJvbSAnLi9TbGlkZUNhcmQnXG5cbmltcG9ydCB7IGdldFNsaWRlcyB9IGZyb20gJy4uLy4uL2FjdGlvbnMvc2xpZGUnXG5pbXBvcnQgeyByZW9yZGVyU2xpZGVzIH0gZnJvbSAnLi4vLi4vYWN0aW9ucy9zbGlkZXNob3cnXG5cbmNvbnN0IFNvcnRhYmxlSXRlbSA9IFNvcnRhYmxlRWxlbWVudChTbGlkZUNhcmQpXG5cbmNvbnN0IFNvcnRhYmxlTGlzdCA9IFNvcnRhYmxlQ29udGFpbmVyKCh7IGl0ZW1zLCByZWZyZXNoIH0pID0+IHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT17J2xpc3QnfT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPXsndGltZWxpbmUnfSAvPlxuICAgICAge2l0ZW1zLm1hcCgodmFsdWUsIGluZGV4KSA9PiAoXG4gICAgICAgIDxTb3J0YWJsZUl0ZW1cbiAgICAgICAgICBrZXk9e2BpdGVtLSR7aW5kZXh9YH1cbiAgICAgICAgICBpbmRleD17aW5kZXh9XG4gICAgICAgICAgaWQ9e2luZGV4fVxuICAgICAgICAgIHZhbHVlPXt2YWx1ZX1cbiAgICAgICAgICByZWZyZXNoPXtyZWZyZXNofVxuICAgICAgICAvPlxuICAgICAgKSl9XG4gICAgICA8c3R5bGUganN4PlxuICAgICAgICB7YFxuICAgICAgICAgIC5saXN0IHtcbiAgICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLnRpbWVsaW5lIHtcbiAgICAgICAgICAgIHdpZHRoOiA0cHg7XG4gICAgICAgICAgICBoZWlnaHQ6IGNhbGMoMTAwJSAtIDIwcHgpO1xuICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMnB4O1xuICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICAgICAgbGVmdDogNTAlO1xuICAgICAgICAgICAgdG9wOiAxMHB4O1xuICAgICAgICAgICAgbWFyZ2luLWxlZnQ6IC0ycHg7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiAjY2NjY2NjO1xuICAgICAgICAgICAgei1pbmRleDogMDtcbiAgICAgICAgICB9XG4gICAgICAgIGB9XG4gICAgICA8L3N0eWxlPlxuICAgIDwvZGl2PlxuICApXG59KVxuXG5jbGFzcyBTbGlkZUxpc3QgZXh0ZW5kcyBDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIHNsaWRlczogbnVsbFxuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGNvbnN0IHsgc2xpZGVzaG93IH0gPSB0aGlzLnByb3BzXG4gICAgZ2V0U2xpZGVzKHNsaWRlc2hvdykudGhlbihzbGlkZXMgPT4ge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIHNsaWRlczogc2xpZGVzXG4gICAgICB9KVxuICAgIH0pXG4gIH1cblxuICBvblNvcnRFbmQgPSAoeyBvbGRJbmRleCwgbmV3SW5kZXggfSkgPT4ge1xuICAgIGNvbnN0IHsgc2xpZGVzaG93IH0gPSB0aGlzLnByb3BzXG4gICAgdGhpcy5zZXRTdGF0ZShcbiAgICAgIHtcbiAgICAgICAgc2xpZGVzOiBbLi4uYXJyYXlNb3ZlKHRoaXMuc3RhdGUuc2xpZGVzLCBvbGRJbmRleCwgbmV3SW5kZXgpXVxuICAgICAgfSxcbiAgICAgICgpID0+IHtcbiAgICAgICAgcmVvcmRlclNsaWRlcyhzbGlkZXNob3csIG9sZEluZGV4LCBuZXdJbmRleClcbiAgICAgIH1cbiAgICApXG4gIH1cblxuICByZWZyZXNoID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgc2xpZGVzaG93IH0gPSB0aGlzLnByb3BzXG4gICAgcmV0dXJuIGdldFNsaWRlcyhzbGlkZXNob3cpLnRoZW4oc2xpZGVzID0+IHtcbiAgICAgIHJldHVybiB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgc2xpZGVzOiBzbGlkZXNcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IHNsaWRlcyB9ID0gdGhpcy5zdGF0ZVxuICAgIHJldHVybiBzbGlkZXMgPyAoXG4gICAgICA8U29ydGFibGVMaXN0XG4gICAgICAgIGl0ZW1zPXtzbGlkZXN9XG4gICAgICAgIHJlZnJlc2g9e3RoaXMucmVmcmVzaH1cbiAgICAgICAgb25Tb3J0RW5kPXt0aGlzLm9uU29ydEVuZH1cbiAgICAgICAgZGlzdGFuY2U9ezJ9XG4gICAgICAgIGxvY2tBeGlzPSd5J1xuICAgICAgLz5cbiAgICApIDogKFxuICAgICAgQXJyYXkoNClcbiAgICAgICAgLmZpbGwoKVxuICAgICAgICAubWFwKChpLCBpbmRleCkgPT4gKFxuICAgICAgICAgIDxDb250ZW50TG9hZGVyIGhlaWdodD17MTIwfSB3aWR0aD17NjQwfSBrZXk9e2Bsb2FkaW5nLSR7aW5kZXh9YH0+XG4gICAgICAgICAgICA8cmVjdCB4PScwJyB5PScwJyByeD0nNScgcnk9JzUnIHdpZHRoPScxMDAlJyBoZWlnaHQ9JzEwMCcgLz5cbiAgICAgICAgICA8L0NvbnRlbnRMb2FkZXI+XG4gICAgICAgICkpXG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFNsaWRlTGlzdFxuIl19 */\\n/*@ sourceURL=C:\\\\Users\\\\user\\\\Desktop\\\\digitalsignage-master\\\\components\\\\Admin\\\\SlideList.js */\"));\n});\n\nvar SlideList = /*#__PURE__*/function (_Component) {\n  _inherits(SlideList, _Component);\n\n  var _super = _createSuper(SlideList);\n\n  function SlideList(props) {\n    var _this;\n\n    _classCallCheck(this, SlideList);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"onSortEnd\", function (_ref2) {\n      var oldIndex = _ref2.oldIndex,\n          newIndex = _ref2.newIndex;\n      var slideshow = _this.props.slideshow;\n\n      _this.setState({\n        slides: _toConsumableArray(arrayMove(_this.state.slides, oldIndex, newIndex))\n      }, function () {\n        reorderSlides(slideshow, oldIndex, newIndex);\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"refresh\", function () {\n      var slideshow = _this.props.slideshow;\n      return getSlides(slideshow).then(function (slides) {\n        return _this.setState({\n          slides: slides\n        });\n      });\n    });\n\n    _this.state = {\n      slides: null\n    };\n    return _this;\n  }\n\n  _createClass(SlideList, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var slideshow = this.props.slideshow;\n      getSlides(slideshow).then(function (slides) {\n        _this2.setState({\n          slides: slides\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var slides = this.state.slides;\n      return slides ? /*#__PURE__*/React.createElement(SortableList, {\n        items: slides,\n        refresh: this.refresh,\n        onSortEnd: this.onSortEnd,\n        distance: 2,\n        lockAxis: \"y\"\n      }) : Array(4).fill().map(function (i, index) {\n        return /*#__PURE__*/React.createElement(ContentLoader, {\n          height: 120,\n          width: 640,\n          key: \"loading-\".concat(index)\n        }, /*#__PURE__*/React.createElement(\"rect\", {\n          x: \"0\",\n          y: \"0\",\n          rx: \"5\",\n          ry: \"5\",\n          width: \"100%\",\n          height: \"100\"\n        }));\n      });\n    }\n  }]);\n\n  return SlideList;\n}(Component);\n\nexport default SlideList;","map":{"version":3,"sources":["C:/Users/user/Desktop/digitalsignage-master/components/Admin/SlideList.js"],"names":["Component","React","ContentLoader","SortableContainer","SortableElement","arrayMove","SlideCard","getSlides","reorderSlides","SortableItem","SortableList","items","refresh","map","value","index","SlideList","props","oldIndex","newIndex","slideshow","setState","slides","state","then","onSortEnd","Array","fill","i"],"mappings":"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","sourcesContent":["import { Component } from 'react'\nimport React from 'react'\nimport ContentLoader from 'react-content-loader'\nimport { SortableContainer, SortableElement } from 'react-sortable-hoc'\nimport arrayMove from 'array-move'\n\nimport SlideCard from './SlideCard'\n\nimport { getSlides } from '../../actions/slide'\nimport { reorderSlides } from '../../actions/slideshow'\n\nconst SortableItem = SortableElement(SlideCard)\n\nconst SortableList = SortableContainer(({ items, refresh }) => {\n  return (\n    <div className={'list'}>\n      <div className={'timeline'} />\n      {items.map((value, index) => (\n        <SortableItem\n          key={`item-${index}`}\n          index={index}\n          id={index}\n          value={value}\n          refresh={refresh}\n        />\n      ))}\n      <style jsx>\n        {`\n          .list {\n            position: relative;\n          }\n          .timeline {\n            width: 4px;\n            height: calc(100% - 20px);\n            border-radius: 2px;\n            position: absolute;\n            left: 50%;\n            top: 10px;\n            margin-left: -2px;\n            background: #cccccc;\n            z-index: 0;\n          }\n        `}\n      </style>\n    </div>\n  )\n})\n\nclass SlideList extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      slides: null\n    }\n  }\n\n  componentDidMount() {\n    const { slideshow } = this.props\n    getSlides(slideshow).then(slides => {\n      this.setState({\n        slides: slides\n      })\n    })\n  }\n\n  onSortEnd = ({ oldIndex, newIndex }) => {\n    const { slideshow } = this.props\n    this.setState(\n      {\n        slides: [...arrayMove(this.state.slides, oldIndex, newIndex)]\n      },\n      () => {\n        reorderSlides(slideshow, oldIndex, newIndex)\n      }\n    )\n  }\n\n  refresh = () => {\n    const { slideshow } = this.props\n    return getSlides(slideshow).then(slides => {\n      return this.setState({\n        slides: slides\n      })\n    })\n  }\n\n  render() {\n    const { slides } = this.state\n    return slides ? (\n      <SortableList\n        items={slides}\n        refresh={this.refresh}\n        onSortEnd={this.onSortEnd}\n        distance={2}\n        lockAxis='y'\n      />\n    ) : (\n      Array(4)\n        .fill()\n        .map((i, index) => (\n          <ContentLoader height={120} width={640} key={`loading-${index}`}>\n            <rect x='0' y='0' rx='5' ry='5' width='100%' height='100' />\n          </ContentLoader>\n        ))\n    )\n  }\n}\n\nexport default SlideList\n"]},"metadata":{},"sourceType":"module"}