{"ast":null,"code":"import _getIterator from \"@babel/runtime-corejs2/core-js/get-iterator\";\nimport _Array$isArray from \"@babel/runtime-corejs2/core-js/array/is-array\";\nimport _Symbol$iterator from \"@babel/runtime-corejs2/core-js/symbol/iterator\";\nimport _Symbol from \"@babel/runtime-corejs2/core-js/symbol\";\nimport _Array$from from \"@babel/runtime-corejs2/core-js/array/from\";\nimport _Reflect$construct from \"@babel/runtime-corejs2/core-js/reflect/construct\";\nimport _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport _JSXStyle from \"styled-jsx/style\";\n\nfunction _createForOfIteratorHelper(o) { if (typeof _Symbol === \"undefined\" || o[_Symbol$iterator] == null) { if (_Array$isArray(o) || (o = _unsupportedIterableToArray(o))) { var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var it, normalCompletion = true, didErr = false, err; return { s: function s() { it = _getIterator(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return _Array$from(n); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = _Reflect$construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !_Reflect$construct) return false; if (_Reflect$construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(_Reflect$construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faThLarge, faTh, faPencilAlt } from '@fortawesome/free-solid-svg-icons';\nimport GridLayout from 'react-grid-layout';\nimport { view } from 'react-easy-state';\nimport { DragDropContext, Droppable } from 'react-beautiful-dnd';\nimport Frame from '../components/Admin/Frame.js';\nimport EditableWidget from '../components/Admin/EditableWidget';\nimport StatusBarElement from '../components/Admin/StatusBarElement';\nimport WidthProvider from '../components/Widgets/WidthProvider';\nimport DropdownButton from '../components/DropdownButton';\nimport { Form, Switch } from '../components/Form';\nimport { StatusBarElementTypes } from '../helpers/statusbar.js';\nimport Widgets from '../widgets';\nimport { addWidget, getWidgets, deleteWidget, updateWidget } from '../actions/widgets';\nimport { protect } from '../helpers/auth.js';\nimport { display } from '../stores';\nvar GridLayoutWithWidth = WidthProvider(GridLayout);\n\nvar Layout = /*#__PURE__*/function (_React$Component) {\n  _inherits(Layout, _React$Component);\n\n  var _super = _createSuper(Layout);\n\n  function Layout(props) {\n    var _this;\n\n    _classCallCheck(this, Layout);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"refresh\", function () {\n      return getWidgets(display.id).then(function (widgets) {\n        _this.setState({\n          widgets: widgets\n        });\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"addWidget\", function (type) {\n      var widgetDefinition = Widgets[type];\n      return addWidget(display.id, type, widgetDefinition && widgetDefinition.defaultData).then(_this.refresh);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"deleteWidget\", function (id) {\n      return deleteWidget(id).then(_this.refresh);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onLayoutChange\", function (layout) {\n      var _iterator = _createForOfIteratorHelper(layout),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var widget = _step.value;\n          updateWidget(widget.i, {\n            x: widget.x,\n            y: widget.y,\n            w: widget.w,\n            h: widget.h\n          });\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onDragEnd\", function (result) {\n      if (!result.destination) {\n        return;\n      }\n\n      display.reorderStatusBarItems(result.source.index, result.destination.index);\n    });\n\n    _this.state = {\n      widgets: props.widgets || []\n    };\n    return _this;\n  }\n\n  _createClass(Layout, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var displayId = this.props.displayId;\n      display.setId(displayId);\n      getWidgets(displayId).then(function (widgets) {\n        _this2.setState({\n          widgets: widgets\n        });\n      });\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (prevProps.displayId != this.props.displayId) this.refresh();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var widgets = this.state.widgets;\n      var loggedIn = this.props.loggedIn;\n      var layout = widgets.map(function (widget) {\n        return {\n          i: widget._id,\n          x: widget.x || 0,\n          y: widget.y || 0,\n          w: widget.w || 1,\n          h: widget.h || 1\n        };\n      });\n      return /*#__PURE__*/React.createElement(Frame, {\n        loggedIn: loggedIn\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: _JSXStyle.dynamic([[\"1197493518\", [display.layout == 'spaced' ? '8px' : '0px']]]) + \" \" + 'head'\n      }, /*#__PURE__*/React.createElement(\"h1\", {\n        className: _JSXStyle.dynamic([[\"1197493518\", [display.layout == 'spaced' ? '8px' : '0px']]])\n      }, \"Layout\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: _JSXStyle.dynamic([[\"1197493518\", [display.layout == 'spaced' ? '8px' : '0px']]]) + \" \" + 'editable-title'\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        placeholder: \"\",\n        defalutvalue: display && display.name,\n        onChange: function onChange(event) {\n          var target = event.target;\n          var title = target && target.value;\n          display.updateName(title);\n        },\n        onClick: function onClick(e) {\n          if (e) e.stopPropagation();\n        },\n        size: display && display.name && display.name.length,\n        className: _JSXStyle.dynamic([[\"1197493518\", [display.layout == 'spaced' ? '8px' : '0px']]]) + \" \" + 'input'\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: _JSXStyle.dynamic([[\"1197493518\", [display.layout == 'spaced' ? '8px' : '0px']]]) + \" \" + 'icon'\n      }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n        icon: faPencilAlt,\n        fixedWidth: true,\n        color: \"#828282\"\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: _JSXStyle.dynamic([[\"1197493518\", [display.layout == 'spaced' ? '8px' : '0px']]]) + \" \" + 'fofo2'\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: \"./img/wolbutton.png\",\n        align: \"left\",\n        width: \"30px\",\n        display: \"inline\",\n        className: _JSXStyle.dynamic([[\"1197493518\", [display.layout == 'spaced' ? '8px' : '0px']]])\n      }), /*#__PURE__*/React.createElement(Form, null, /*#__PURE__*/React.createElement(Switch, {\n        checkedLabel: 'On',\n        uncheckedLabel: 'Off',\n        checked: display.layout == '',\n        onChange: function onChange(name, checked) {\n          return display.updateLayout(checked ? '' : '');\n        }\n      })))), /*#__PURE__*/React.createElement(\"div\", {\n        className: _JSXStyle.dynamic([[\"1197493518\", [display.layout == 'spaced' ? '8px' : '0px']]]) + \" \" + 'settings'\n      }, /*#__PURE__*/React.createElement(DropdownButton, {\n        icon: \"plus\",\n        text: \"Add Widget\",\n        onSelect: this.addWidget,\n        choices: _Object$keys(Widgets).map(function (widget) {\n          return {\n            key: widget,\n            name: Widgets[widget].name,\n            icon: Widgets[widget].icon\n          };\n        })\n      }), /*#__PURE__*/React.createElement(Form, null, /*#__PURE__*/React.createElement(Switch, {\n        checkedLabel: 'Compact',\n        uncheckedLabel: 'Spaced',\n        checkedIcon: faTh,\n        uncheckedIcon: faThLarge,\n        checked: display.layout == 'spaced',\n        onChange: function onChange(name, checked) {\n          return display.updateLayout(checked ? 'spaced' : 'compact');\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: _JSXStyle.dynamic([[\"1197493518\", [display.layout == 'spaced' ? '8px' : '0px']]]) + \" \" + 'layout'\n      }, /*#__PURE__*/React.createElement(GridLayoutWithWidth, {\n        layout: layout,\n        cols: 6,\n        onLayoutChange: this.onLayoutChange,\n        draggableCancel: '.ReactModalPortal,.controls',\n        margin: display.layout == 'spaced' ? [12, 12] : [4, 4]\n      }, widgets.map(function (widget) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          key: widget._id,\n          className: _JSXStyle.dynamic([[\"1197493518\", [display.layout == 'spaced' ? '8px' : '0px']]])\n        }, /*#__PURE__*/React.createElement(EditableWidget, {\n          id: widget._id,\n          type: widget.type,\n          onDelete: _this3.deleteWidget.bind(_this3, widget._id),\n          layout: display.layout\n        }));\n      }))), /*#__PURE__*/React.createElement(_JSXStyle, {\n        id: \"1197493518\",\n        dynamic: [display.layout == 'spaced' ? '8px' : '0px']\n      }, \"h1.__jsx-style-dynamic-selector{font-family:'Open Sans',sans-serif;font-size:24px;color:#4f4f4f;margin:0px;display:inline-block;margin-right:16px;}.head.__jsx-style-dynamic-selector{margin-bottom:24px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}.layout.__jsx-style-dynamic-selector{background:#dfdfdf;border-radius:\".concat(display.layout == 'spaced' ? '8px' : '0px', \";}.statusbar.__jsx-style-dynamic-selector{background:#dfdfdf;border-radius:8px;-webkit-flex:1;-ms-flex:1;flex:1;margin-bottom:16px;height:64px;}.settings.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;margin-bottom:16px;}.editable-title.__jsx-style-dynamic-selector{display:inline-block;position:relative;margin-left:16px;margin-right:16px;border-bottom:3px solid #aaa;}.editable-title.__jsx-style-dynamic-selector .input.__jsx-style-dynamic-selector{font-family:'Open Sans',sans-serif;color:#666;background-color:transparent;min-height:40px;border:none;outline:none;margin-right:24px;font-size:24px;font-weight:600;}.editable-title.__jsx-style-dynamic-selector .icon.__jsx-style-dynamic-selector{position:absolute;right:8px;top:50%;margin-top:-8px;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcdXNlclxcRGVza3RvcFxcZGlnaXRhbHNpZ25hZ2UtbWFzdGVyXFxwYWdlc1xcbGF5b3V0LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQTBLVyxBQUdtRCxBQVFqQixBQU1BLEFBSUEsQUFPTixBQU9RLEFBT2UsQUFXbEIsa0JBQ1IsQ0ExQ0csQUFNOEIsQUFJekIsRUFjQSxPQW1CVixPQW5ETyxBQXVDSixDQWFLLENBakNULEVBY1UsT0FPWSxJQXZDZixFQW9EaEIsSUFuQm9CLE1BbkJwQixFQWJhLE1Ba0JRLElBS0EsQUFVVSxDQWhDUixBQXNDTCxjQXBCSixFQXFCQSxFQWpDTyxHQUxELEtBa0JwQixFQWNBLEFBT2UsV0F0Q2YsRUF1Q29CLGtCQUNILFNBbkJJLE1Bb0JILGFBcENHLEdBcUNyQix1RUFwQmdDLG1CQWhCaEMsZ0dBaUJxQixtQkFDckIiLCJmaWxlIjoiQzpcXFVzZXJzXFx1c2VyXFxEZXNrdG9wXFxkaWdpdGFsc2lnbmFnZS1tYXN0ZXJcXHBhZ2VzXFxsYXlvdXQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBGb250QXdlc29tZUljb24gfSBmcm9tICdAZm9ydGF3ZXNvbWUvcmVhY3QtZm9udGF3ZXNvbWUnXG5pbXBvcnQgeyBmYVRoTGFyZ2UsIGZhVGgsIGZhUGVuY2lsQWx0IH0gZnJvbSAnQGZvcnRhd2Vzb21lL2ZyZWUtc29saWQtc3ZnLWljb25zJ1xuaW1wb3J0IEdyaWRMYXlvdXQgZnJvbSAncmVhY3QtZ3JpZC1sYXlvdXQnXG5pbXBvcnQgeyB2aWV3IH0gZnJvbSAncmVhY3QtZWFzeS1zdGF0ZSdcbmltcG9ydCB7IERyYWdEcm9wQ29udGV4dCwgRHJvcHBhYmxlIH0gZnJvbSAncmVhY3QtYmVhdXRpZnVsLWRuZCdcblxuaW1wb3J0IEZyYW1lIGZyb20gJy4uL2NvbXBvbmVudHMvQWRtaW4vRnJhbWUuanMnXG5pbXBvcnQgRWRpdGFibGVXaWRnZXQgZnJvbSAnLi4vY29tcG9uZW50cy9BZG1pbi9FZGl0YWJsZVdpZGdldCdcbmltcG9ydCBTdGF0dXNCYXJFbGVtZW50IGZyb20gJy4uL2NvbXBvbmVudHMvQWRtaW4vU3RhdHVzQmFyRWxlbWVudCdcbmltcG9ydCBXaWR0aFByb3ZpZGVyIGZyb20gJy4uL2NvbXBvbmVudHMvV2lkZ2V0cy9XaWR0aFByb3ZpZGVyJ1xuaW1wb3J0IERyb3Bkb3duQnV0dG9uIGZyb20gJy4uL2NvbXBvbmVudHMvRHJvcGRvd25CdXR0b24nXG5cbmltcG9ydCB7IEZvcm0sIFN3aXRjaCB9IGZyb20gJy4uL2NvbXBvbmVudHMvRm9ybSdcblxuaW1wb3J0IHsgU3RhdHVzQmFyRWxlbWVudFR5cGVzIH0gZnJvbSAnLi4vaGVscGVycy9zdGF0dXNiYXIuanMnXG5cbmltcG9ydCBXaWRnZXRzIGZyb20gJy4uL3dpZGdldHMnXG5cbmltcG9ydCB7IGFkZFdpZGdldCwgZ2V0V2lkZ2V0cywgZGVsZXRlV2lkZ2V0LCB1cGRhdGVXaWRnZXQgfSBmcm9tICcuLi9hY3Rpb25zL3dpZGdldHMnXG5pbXBvcnQgeyBwcm90ZWN0IH0gZnJvbSAnLi4vaGVscGVycy9hdXRoLmpzJ1xuaW1wb3J0IHsgZGlzcGxheSB9IGZyb20gJy4uL3N0b3JlcydcblxuY29uc3QgR3JpZExheW91dFdpdGhXaWR0aCA9IFdpZHRoUHJvdmlkZXIoR3JpZExheW91dClcblxuY2xhc3MgTGF5b3V0IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgd2lkZ2V0czogcHJvcHMud2lkZ2V0cyB8fCBbXVxuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGNvbnN0IHsgZGlzcGxheUlkIH0gPSB0aGlzLnByb3BzXG4gICAgZGlzcGxheS5zZXRJZChkaXNwbGF5SWQpXG4gICAgZ2V0V2lkZ2V0cyhkaXNwbGF5SWQpLnRoZW4od2lkZ2V0cyA9PiB7XG4gICAgICB0aGlzLnNldFN0YXRlKHsgd2lkZ2V0cyB9KVxuICAgIH0pXG4gIH1cblxuICBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzKSB7XG4gICAgaWYgKHByZXZQcm9wcy5kaXNwbGF5SWQgIT0gdGhpcy5wcm9wcy5kaXNwbGF5SWQpIHRoaXMucmVmcmVzaCgpXG4gIH1cblxuICByZWZyZXNoID0gKCkgPT4ge1xuICAgIHJldHVybiBnZXRXaWRnZXRzKGRpc3BsYXkuaWQpLnRoZW4od2lkZ2V0cyA9PiB7XG4gICAgICB0aGlzLnNldFN0YXRlKHsgd2lkZ2V0cyB9KVxuICAgIH0pXG4gIH1cblxuICBhZGRXaWRnZXQgPSB0eXBlID0+IHtcbiAgICBjb25zdCB3aWRnZXREZWZpbml0aW9uID0gV2lkZ2V0c1t0eXBlXVxuICAgIHJldHVybiBhZGRXaWRnZXQoZGlzcGxheS5pZCwgdHlwZSwgd2lkZ2V0RGVmaW5pdGlvbiAmJiB3aWRnZXREZWZpbml0aW9uLmRlZmF1bHREYXRhKS50aGVuKFxuICAgICAgdGhpcy5yZWZyZXNoXG4gICAgKVxuICB9XG5cbiAgZGVsZXRlV2lkZ2V0ID0gaWQgPT4ge1xuICAgIHJldHVybiBkZWxldGVXaWRnZXQoaWQpLnRoZW4odGhpcy5yZWZyZXNoKVxuICB9XG5cbiAgb25MYXlvdXRDaGFuZ2UgPSBsYXlvdXQgPT4ge1xuICAgIGZvciAoY29uc3Qgd2lkZ2V0IG9mIGxheW91dCkge1xuICAgICAgdXBkYXRlV2lkZ2V0KHdpZGdldC5pLCB7XG4gICAgICAgIHg6IHdpZGdldC54LFxuICAgICAgICB5OiB3aWRnZXQueSxcbiAgICAgICAgdzogd2lkZ2V0LncsXG4gICAgICAgIGg6IHdpZGdldC5oXG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG4gIG9uRHJhZ0VuZCA9IHJlc3VsdCA9PiB7XG4gICAgaWYgKCFyZXN1bHQuZGVzdGluYXRpb24pIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGRpc3BsYXkucmVvcmRlclN0YXR1c0Jhckl0ZW1zKHJlc3VsdC5zb3VyY2UuaW5kZXgsIHJlc3VsdC5kZXN0aW5hdGlvbi5pbmRleClcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IHdpZGdldHMgfSA9IHRoaXMuc3RhdGVcbiAgICBjb25zdCB7IGxvZ2dlZEluIH0gPSB0aGlzLnByb3BzXG4gICAgY29uc3QgbGF5b3V0ID0gd2lkZ2V0cy5tYXAod2lkZ2V0ID0+ICh7XG4gICAgICBpOiB3aWRnZXQuX2lkLFxuICAgICAgeDogd2lkZ2V0LnggfHwgMCxcbiAgICAgIHk6IHdpZGdldC55IHx8IDAsXG4gICAgICB3OiB3aWRnZXQudyB8fCAxLFxuICAgICAgaDogd2lkZ2V0LmggfHwgMVxuICAgIH0pKVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxGcmFtZSBsb2dnZWRJbj17bG9nZ2VkSW59PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17J2hlYWQnfT5cbiAgICAgICAgICA8aDE+TGF5b3V0PC9oMT5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZWRpdGFibGUtdGl0bGUnPlxuICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT0naW5wdXQnXG4gICAgICAgICAgICAgIHBsYWNlaG9sZGVyPScnXG4gICAgICAgICAgICAgIGRlZmFsdXR2YWx1ZT17ZGlzcGxheSAmJiBkaXNwbGF5Lm5hbWV9XG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXtldmVudCA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0XG4gICAgICAgICAgICAgICAgY29uc3QgdGl0bGUgPSB0YXJnZXQgJiYgdGFyZ2V0LnZhbHVlXG4gICAgICAgICAgICAgICAgZGlzcGxheS51cGRhdGVOYW1lKHRpdGxlKVxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICBvbkNsaWNrPXtlID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZSkgZS5zdG9wUHJvcGFnYXRpb24oKVxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICBzaXplPXtkaXNwbGF5ICYmIGRpc3BsYXkubmFtZSAmJiBkaXNwbGF5Lm5hbWUubGVuZ3RofVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdpY29uJz5cbiAgICAgICAgICAgICAgPEZvbnRBd2Vzb21lSWNvbiBpY29uPXtmYVBlbmNpbEFsdH0gZml4ZWRXaWR0aCBjb2xvcj0nIzgyODI4MicgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdmb2ZvMic+XG4gICAgICAgICAgICA8aW1nIHNyYyA9ICcuL2ltZy93b2xidXR0b24ucG5nJyBhbGlnbj0nbGVmdCcgd2lkdGggPSczMHB4JyAgZGlzcGxheT0naW5saW5lJy8+XG4gICAgICAgICAgICA8Rm9ybT5cbiAgICAgICAgICAgICAgPFN3aXRjaFxuICAgICAgICAgICAgICAgIGNoZWNrZWRMYWJlbD17J09uJ31cbiAgICAgICAgICAgICAgICB1bmNoZWNrZWRMYWJlbD17J09mZid9XG4gICAgICAgICAgICAgICAgY2hlY2tlZD17ZGlzcGxheS5sYXlvdXQgPT0gJyd9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhuYW1lLCBjaGVja2VkKSA9PiBkaXNwbGF5LnVwZGF0ZUxheW91dChjaGVja2VkID8gJycgOiAnJyl9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L0Zvcm0+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nc2V0dGluZ3MnPlxuICAgICAgICAgIDxEcm9wZG93bkJ1dHRvblxuICAgICAgICAgICAgaWNvbj0ncGx1cydcbiAgICAgICAgICAgIHRleHQ9J0FkZCBXaWRnZXQnXG4gICAgICAgICAgICBvblNlbGVjdD17dGhpcy5hZGRXaWRnZXR9XG4gICAgICAgICAgICBjaG9pY2VzPXtPYmplY3Qua2V5cyhXaWRnZXRzKS5tYXAod2lkZ2V0ID0+ICh7XG4gICAgICAgICAgICAgIGtleTogd2lkZ2V0LFxuICAgICAgICAgICAgICBuYW1lOiBXaWRnZXRzW3dpZGdldF0ubmFtZSxcbiAgICAgICAgICAgICAgaWNvbjogV2lkZ2V0c1t3aWRnZXRdLmljb25cbiAgICAgICAgICAgIH0pKX1cbiAgICAgICAgICAvPlxuICAgICAgICAgIDxGb3JtPlxuICAgICAgICAgIDxTd2l0Y2hcbiAgICAgICAgICAgIGNoZWNrZWRMYWJlbD17J0NvbXBhY3QnfVxuICAgICAgICAgICAgdW5jaGVja2VkTGFiZWw9eydTcGFjZWQnfVxuICAgICAgICAgICAgY2hlY2tlZEljb249e2ZhVGh9XG4gICAgICAgICAgICB1bmNoZWNrZWRJY29uPXtmYVRoTGFyZ2V9XG4gICAgICAgICAgICBjaGVja2VkPXtkaXNwbGF5LmxheW91dCA9PSAnc3BhY2VkJ31cbiAgICAgICAgICAgIG9uQ2hhbmdlPXsobmFtZSwgY2hlY2tlZCkgPT4gZGlzcGxheS51cGRhdGVMYXlvdXQoY2hlY2tlZCA/ICdzcGFjZWQnIDogJ2NvbXBhY3QnKX1cbiAgICAgICAgICAvPlxuICAgICAgICAgIDwvRm9ybT5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPSdsYXlvdXQnPlxuICAgICAgICAgIDxHcmlkTGF5b3V0V2l0aFdpZHRoXG4gICAgICAgICAgICBsYXlvdXQ9e2xheW91dH1cbiAgICAgICAgICAgIGNvbHM9ezZ9XG4gICAgICAgICAgICBvbkxheW91dENoYW5nZT17dGhpcy5vbkxheW91dENoYW5nZX1cbiAgICAgICAgICAgIGRyYWdnYWJsZUNhbmNlbD17Jy5SZWFjdE1vZGFsUG9ydGFsLC5jb250cm9scyd9XG4gICAgICAgICAgICBtYXJnaW49e2Rpc3BsYXkubGF5b3V0ID09ICdzcGFjZWQnID8gWzEyLCAxMl0gOiBbNCwgNF19XG4gICAgICAgICAgPlxuICAgICAgICAgICAge3dpZGdldHMubWFwKHdpZGdldCA9PiAoXG4gICAgICAgICAgICAgIDxkaXYga2V5PXt3aWRnZXQuX2lkfT5cbiAgICAgICAgICAgICAgICA8RWRpdGFibGVXaWRnZXRcbiAgICAgICAgICAgICAgICAgIGlkPXt3aWRnZXQuX2lkfVxuICAgICAgICAgICAgICAgICAgdHlwZT17d2lkZ2V0LnR5cGV9XG4gICAgICAgICAgICAgICAgICBvbkRlbGV0ZT17dGhpcy5kZWxldGVXaWRnZXQuYmluZCh0aGlzLCB3aWRnZXQuX2lkKX1cbiAgICAgICAgICAgICAgICAgIGxheW91dD17ZGlzcGxheS5sYXlvdXR9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApKX1cbiAgICAgICAgICA8L0dyaWRMYXlvdXRXaXRoV2lkdGg+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8c3R5bGUganN4PlxuICAgICAgICAgIHtgXG4gICAgICAgICAgICBoMSB7XG4gICAgICAgICAgICAgIGZvbnQtZmFtaWx5OiAnT3BlbiBTYW5zJywgc2Fucy1zZXJpZjtcbiAgICAgICAgICAgICAgZm9udC1zaXplOiAyNHB4O1xuICAgICAgICAgICAgICBjb2xvcjogIzRmNGY0ZjtcbiAgICAgICAgICAgICAgbWFyZ2luOiAwcHg7XG4gICAgICAgICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgICAgICAgICAgbWFyZ2luLXJpZ2h0OiAxNnB4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLmhlYWQge1xuICAgICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAyNHB4O1xuICAgICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xuICAgICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLmxheW91dCB7XG4gICAgICAgICAgICAgIGJhY2tncm91bmQ6ICNkZmRmZGY7XG4gICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6ICR7ZGlzcGxheS5sYXlvdXQgPT0gJ3NwYWNlZCcgPyAnOHB4JyA6ICcwcHgnfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC5zdGF0dXNiYXIge1xuICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAjZGZkZmRmO1xuICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiA4cHg7XG4gICAgICAgICAgICAgIGZsZXg6IDE7XG4gICAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDE2cHg7XG4gICAgICAgICAgICAgIGhlaWdodDogNjRweDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC5zZXR0aW5ncyB7XG4gICAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XG4gICAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMTZweDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC5lZGl0YWJsZS10aXRsZSB7XG4gICAgICAgICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgICAgICAgICBtYXJnaW4tbGVmdDogMTZweDtcbiAgICAgICAgICAgICAgbWFyZ2luLXJpZ2h0OiAxNnB4O1xuICAgICAgICAgICAgICBib3JkZXItYm90dG9tOiAzcHggc29saWQgI2FhYTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC5lZGl0YWJsZS10aXRsZSAuaW5wdXQge1xuICAgICAgICAgICAgICBmb250LWZhbWlseTogJ09wZW4gU2FucycsIHNhbnMtc2VyaWY7XG4gICAgICAgICAgICAgIGNvbG9yOiAjNjY2O1xuICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcbiAgICAgICAgICAgICAgbWluLWhlaWdodDogNDBweDtcbiAgICAgICAgICAgICAgYm9yZGVyOiBub25lO1xuICAgICAgICAgICAgICBvdXRsaW5lOiBub25lO1xuICAgICAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDI0cHg7XG4gICAgICAgICAgICAgIGZvbnQtc2l6ZTogMjRweDtcbiAgICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC5lZGl0YWJsZS10aXRsZSAuaWNvbiB7XG4gICAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgICAgICAgcmlnaHQ6IDhweDtcbiAgICAgICAgICAgICAgdG9wOiA1MCU7XG4gICAgICAgICAgICAgIG1hcmdpbi10b3A6IC04cHg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgYH1cbiAgICAgICAgPC9zdHlsZT5cbiAgICAgIDwvRnJhbWU+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IHByb3RlY3QodmlldyhMYXlvdXQpKVxuIl19 */\\n/*@ sourceURL=C:\\\\Users\\\\user\\\\Desktop\\\\digitalsignage-master\\\\pages\\\\layout.js */\")));\n    }\n  }]);\n\n  return Layout;\n}(React.Component);\n\nexport default protect(view(Layout));","map":{"version":3,"sources":["C:/Users/user/Desktop/digitalsignage-master/pages/layout.js"],"names":["React","FontAwesomeIcon","faThLarge","faTh","faPencilAlt","GridLayout","view","DragDropContext","Droppable","Frame","EditableWidget","StatusBarElement","WidthProvider","DropdownButton","Form","Switch","StatusBarElementTypes","Widgets","addWidget","getWidgets","deleteWidget","updateWidget","protect","display","GridLayoutWithWidth","Layout","props","id","then","widgets","setState","type","widgetDefinition","defaultData","refresh","layout","widget","i","x","y","w","h","result","destination","reorderStatusBarItems","source","index","state","displayId","setId","prevProps","loggedIn","map","_id","name","event","target","title","value","updateName","e","stopPropagation","length","checked","updateLayout","key","icon","onLayoutChange","bind","Component"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faThLarge, faTh, faPencilAlt } from '@fortawesome/free-solid-svg-icons'\nimport GridLayout from 'react-grid-layout'\nimport { view } from 'react-easy-state'\nimport { DragDropContext, Droppable } from 'react-beautiful-dnd'\n\nimport Frame from '../components/Admin/Frame.js'\nimport EditableWidget from '../components/Admin/EditableWidget'\nimport StatusBarElement from '../components/Admin/StatusBarElement'\nimport WidthProvider from '../components/Widgets/WidthProvider'\nimport DropdownButton from '../components/DropdownButton'\n\nimport { Form, Switch } from '../components/Form'\n\nimport { StatusBarElementTypes } from '../helpers/statusbar.js'\n\nimport Widgets from '../widgets'\n\nimport { addWidget, getWidgets, deleteWidget, updateWidget } from '../actions/widgets'\nimport { protect } from '../helpers/auth.js'\nimport { display } from '../stores'\n\nconst GridLayoutWithWidth = WidthProvider(GridLayout)\n\nclass Layout extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      widgets: props.widgets || []\n    }\n  }\n\n  componentDidMount() {\n    const { displayId } = this.props\n    display.setId(displayId)\n    getWidgets(displayId).then(widgets => {\n      this.setState({ widgets })\n    })\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.displayId != this.props.displayId) this.refresh()\n  }\n\n  refresh = () => {\n    return getWidgets(display.id).then(widgets => {\n      this.setState({ widgets })\n    })\n  }\n\n  addWidget = type => {\n    const widgetDefinition = Widgets[type]\n    return addWidget(display.id, type, widgetDefinition && widgetDefinition.defaultData).then(\n      this.refresh\n    )\n  }\n\n  deleteWidget = id => {\n    return deleteWidget(id).then(this.refresh)\n  }\n\n  onLayoutChange = layout => {\n    for (const widget of layout) {\n      updateWidget(widget.i, {\n        x: widget.x,\n        y: widget.y,\n        w: widget.w,\n        h: widget.h\n      })\n    }\n  }\n\n  onDragEnd = result => {\n    if (!result.destination) {\n      return\n    }\n\n    display.reorderStatusBarItems(result.source.index, result.destination.index)\n  }\n\n  render() {\n    const { widgets } = this.state\n    const { loggedIn } = this.props\n    const layout = widgets.map(widget => ({\n      i: widget._id,\n      x: widget.x || 0,\n      y: widget.y || 0,\n      w: widget.w || 1,\n      h: widget.h || 1\n    }))\n\n    return (\n      <Frame loggedIn={loggedIn}>\n        <div className={'head'}>\n          <h1>Layout</h1>\n          <div className='editable-title'>\n            <input\n              className='input'\n              placeholder=''\n              defalutvalue={display && display.name}\n              onChange={event => {\n                const target = event.target\n                const title = target && target.value\n                display.updateName(title)\n              }}\n              onClick={e => {\n                if (e) e.stopPropagation()\n              }}\n              size={display && display.name && display.name.length}\n            />\n            <div className='icon'>\n              <FontAwesomeIcon icon={faPencilAlt} fixedWidth color='#828282' />\n            </div>\n          </div>\n          <div className='fofo2'>\n            <img src = './img/wolbutton.png' align='left' width ='30px'  display='inline'/>\n            <Form>\n              <Switch\n                checkedLabel={'On'}\n                uncheckedLabel={'Off'}\n                checked={display.layout == ''}\n                onChange={(name, checked) => display.updateLayout(checked ? '' : '')}\n              />\n            </Form>\n          </div>\n        </div>\n        <div className='settings'>\n          <DropdownButton\n            icon='plus'\n            text='Add Widget'\n            onSelect={this.addWidget}\n            choices={Object.keys(Widgets).map(widget => ({\n              key: widget,\n              name: Widgets[widget].name,\n              icon: Widgets[widget].icon\n            }))}\n          />\n          <Form>\n          <Switch\n            checkedLabel={'Compact'}\n            uncheckedLabel={'Spaced'}\n            checkedIcon={faTh}\n            uncheckedIcon={faThLarge}\n            checked={display.layout == 'spaced'}\n            onChange={(name, checked) => display.updateLayout(checked ? 'spaced' : 'compact')}\n          />\n          </Form>\n        </div>\n        <div className='layout'>\n          <GridLayoutWithWidth\n            layout={layout}\n            cols={6}\n            onLayoutChange={this.onLayoutChange}\n            draggableCancel={'.ReactModalPortal,.controls'}\n            margin={display.layout == 'spaced' ? [12, 12] : [4, 4]}\n          >\n            {widgets.map(widget => (\n              <div key={widget._id}>\n                <EditableWidget\n                  id={widget._id}\n                  type={widget.type}\n                  onDelete={this.deleteWidget.bind(this, widget._id)}\n                  layout={display.layout}\n                />\n              </div>\n            ))}\n          </GridLayoutWithWidth>\n        </div>\n        <style jsx>\n          {`\n            h1 {\n              font-family: 'Open Sans', sans-serif;\n              font-size: 24px;\n              color: #4f4f4f;\n              margin: 0px;\n              display: inline-block;\n              margin-right: 16px;\n            }\n            .head {\n              margin-bottom: 24px;\n              display: flex;\n              flex-direction: row;\n              align-items: center;\n            }\n            .layout {\n              background: #dfdfdf;\n              border-radius: ${display.layout == 'spaced' ? '8px' : '0px'};\n            }\n            .statusbar {\n              background: #dfdfdf;\n              border-radius: 8px;\n              flex: 1;\n              margin-bottom: 16px;\n              height: 64px;\n            }\n            .settings {\n              display: flex;\n              flex-direction: row;\n              align-items: center;\n              justify-content: space-between;\n              margin-bottom: 16px;\n            }\n            .editable-title {\n              display: inline-block;\n              position: relative;\n              margin-left: 16px;\n              margin-right: 16px;\n              border-bottom: 3px solid #aaa;\n            }\n            .editable-title .input {\n              font-family: 'Open Sans', sans-serif;\n              color: #666;\n              background-color: transparent;\n              min-height: 40px;\n              border: none;\n              outline: none;\n              margin-right: 24px;\n              font-size: 24px;\n              font-weight: 600;\n            }\n            .editable-title .icon {\n              position: absolute;\n              right: 8px;\n              top: 50%;\n              margin-top: -8px;\n            }\n          `}\n        </style>\n      </Frame>\n    )\n  }\n}\n\nexport default protect(view(Layout))\n"]},"metadata":{},"sourceType":"module"}