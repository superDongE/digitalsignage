{"ast":null,"code":"import _Reflect$construct from \"@babel/runtime-corejs2/core-js/reflect/construct\";\nimport _Promise from \"@babel/runtime-corejs2/core-js/promise\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = _Reflect$construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !_Reflect$construct) return false; if (_Reflect$construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(_Reflect$construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport Dialog from '../Dialog';\nimport { Form, Button, ButtonGroup } from '../Form';\nimport { getWidget, updateWidget } from '../../actions/widgets';\n\nvar WidgetEditDialog = /*#__PURE__*/function (_React$Component) {\n  _inherits(WidgetEditDialog, _React$Component);\n\n  var _super = _createSuper(WidgetEditDialog);\n\n  function WidgetEditDialog() {\n    var _this;\n\n    _classCallCheck(this, WidgetEditDialog);\n\n    _this = _super.call(this);\n\n    _defineProperty(_assertThisInitialized(_this), \"open\", function (e) {\n      if (e) e.stopPropagation();\n      _this.dialog && _this.dialog.current && _this.dialog.current.open();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"close\", function (e) {\n      if (e) e.stopPropagation();\n      return _Promise.resolve().then(function () {\n        return _this.dialog && _this.dialog.current && _this.dialog.current.close();\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleChange\", function (data) {\n      _this.setState({\n        data: data\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"saveData\", function () {\n      var id = _this.props.id;\n      var data = _this.state.data;\n      return updateWidget(id, {\n        data: data\n      }).then(function () {\n        _this.close();\n      });\n    });\n\n    _this.state = {};\n    _this.dialog = React.createRef();\n    return _this;\n  }\n\n  _createClass(WidgetEditDialog, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var id = this.props.id;\n      getWidget(id).then(function (_ref) {\n        var data = _ref.data;\n        return _this2.setState({\n          data: data\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props$OptionsCo = this.props.OptionsComponent,\n          OptionsComponent = _this$props$OptionsCo === void 0 ? Form : _this$props$OptionsCo;\n      var data = this.state.data;\n      return /*#__PURE__*/React.createElement(Dialog, {\n        ref: this.dialog\n      }, /*#__PURE__*/React.createElement(OptionsComponent, {\n        data: data,\n        onChange: this.handleChange\n      }), /*#__PURE__*/React.createElement(ButtonGroup, {\n        style: {\n          marginTop: 20\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        text: 'Save',\n        color: '#8bc34a',\n        onClick: this.saveData\n      }), /*#__PURE__*/React.createElement(Button, {\n        text: 'Cancel',\n        color: '#e85454',\n        onClick: this.close\n      })));\n    }\n  }]);\n\n  return WidgetEditDialog;\n}(React.Component);\n\nexport default WidgetEditDialog;","map":{"version":3,"sources":["C:/Users/user/Desktop/digitalsignage-master (2)/digitalsignage-master/components/Admin/WidgetEditDialog.js"],"names":["React","Dialog","Form","Button","ButtonGroup","getWidget","updateWidget","WidgetEditDialog","e","stopPropagation","dialog","current","open","resolve","then","close","data","setState","id","props","state","createRef","OptionsComponent","handleChange","marginTop","saveData","Component"],"mappings":";;;;;;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,WAAnB;AACA,SAASC,IAAT,EAAeC,MAAf,EAAuBC,WAAvB,QAA0C,SAA1C;AACA,SAASC,SAAT,EAAoBC,YAApB,QAAwC,uBAAxC;;IAEMC,gB;;;;;AACJ,8BAAc;AAAA;;AAAA;;AACZ;;AADY,2DAOP,UAAAC,CAAC,EAAI;AACV,UAAIA,CAAJ,EAAOA,CAAC,CAACC,eAAF;AACP,YAAKC,MAAL,IAAe,MAAKA,MAAL,CAAYC,OAA3B,IAAsC,MAAKD,MAAL,CAAYC,OAAZ,CAAoBC,IAApB,EAAtC;AACD,KAVa;;AAAA,4DAYN,UAAAJ,CAAC,EAAI;AACX,UAAIA,CAAJ,EAAOA,CAAC,CAACC,eAAF;AACP,aAAO,SAAQI,OAAR,GAAkBC,IAAlB,CACL;AAAA,eAAM,MAAKJ,MAAL,IAAe,MAAKA,MAAL,CAAYC,OAA3B,IAAsC,MAAKD,MAAL,CAAYC,OAAZ,CAAoBI,KAApB,EAA5C;AAAA,OADK,CAAP;AAGD,KAjBa;;AAAA,mEAmBC,UAAAC,IAAI,EAAI;AACrB,YAAKC,QAAL,CAAc;AACZD,QAAAA,IAAI,EAAJA;AADY,OAAd;AAGD,KAvBa;;AAAA,+DAyBH,YAAM;AAAA,UACPE,EADO,GACA,MAAKC,KADL,CACPD,EADO;AAAA,UAEPF,IAFO,GAEE,MAAKI,KAFP,CAEPJ,IAFO;AAGf,aAAOV,YAAY,CAACY,EAAD,EAAK;AAAEF,QAAAA,IAAI,EAAJA;AAAF,OAAL,CAAZ,CAA2BF,IAA3B,CAAgC,YAAM;AAC3C,cAAKC,KAAL;AACD,OAFM,CAAP;AAGD,KA/Ba;;AAGZ,UAAKK,KAAL,GAAa,EAAb;AACA,UAAKV,MAAL,GAAcV,KAAK,CAACqB,SAAN,EAAd;AAJY;AAKb;;;;wCA4BmB;AAAA;;AAAA,UACVH,EADU,GACH,KAAKC,KADF,CACVD,EADU;AAElBb,MAAAA,SAAS,CAACa,EAAD,CAAT,CAAcJ,IAAd,CAAmB;AAAA,YAAGE,IAAH,QAAGA,IAAH;AAAA,eAAc,MAAI,CAACC,QAAL,CAAc;AAAED,UAAAA,IAAI,EAAJA;AAAF,SAAd,CAAd;AAAA,OAAnB;AACD;;;6BAEQ;AAAA,kCAC6B,KAAKG,KADlC,CACCG,gBADD;AAAA,UACCA,gBADD,sCACoBpB,IADpB;AAAA,UAECc,IAFD,GAEU,KAAKI,KAFf,CAECJ,IAFD;AAGP,0BACE,oBAAC,MAAD;AAAQ,QAAA,GAAG,EAAE,KAAKN;AAAlB,sBACE,oBAAC,gBAAD;AAAkB,QAAA,IAAI,EAAEM,IAAxB;AAA8B,QAAA,QAAQ,EAAE,KAAKO;AAA7C,QADF,eAEE,oBAAC,WAAD;AAAa,QAAA,KAAK,EAAE;AAAEC,UAAAA,SAAS,EAAE;AAAb;AAApB,sBACE,oBAAC,MAAD;AAAQ,QAAA,IAAI,EAAE,MAAd;AAAsB,QAAA,KAAK,EAAE,SAA7B;AAAwC,QAAA,OAAO,EAAE,KAAKC;AAAtD,QADF,eAEE,oBAAC,MAAD;AAAQ,QAAA,IAAI,EAAE,QAAd;AAAwB,QAAA,KAAK,EAAE,SAA/B;AAA0C,QAAA,OAAO,EAAE,KAAKV;AAAxD,QAFF,CAFF,CADF;AASD;;;;EAnD4Bf,KAAK,CAAC0B,S;;AAsDrC,eAAenB,gBAAf","sourcesContent":["import React from 'react'\nimport Dialog from '../Dialog'\nimport { Form, Button, ButtonGroup } from '../Form'\nimport { getWidget, updateWidget } from '../../actions/widgets'\n\nclass WidgetEditDialog extends React.Component {\n  constructor() {\n    super()\n\n    this.state = {}\n    this.dialog = React.createRef()\n  }\n\n  open = e => {\n    if (e) e.stopPropagation()\n    this.dialog && this.dialog.current && this.dialog.current.open()\n  }\n\n  close = e => {\n    if (e) e.stopPropagation()\n    return Promise.resolve().then(\n      () => this.dialog && this.dialog.current && this.dialog.current.close()\n    )\n  }\n\n  handleChange = data => {\n    this.setState({\n      data\n    })\n  }\n\n  saveData = () => {\n    const { id } = this.props\n    const { data } = this.state\n    return updateWidget(id, { data }).then(() => {\n      this.close()\n    })\n  }\n\n  componentDidMount() {\n    const { id } = this.props\n    getWidget(id).then(({ data }) => this.setState({ data }))\n  }\n\n  render() {\n    const { OptionsComponent = Form } = this.props\n    const { data } = this.state\n    return (\n      <Dialog ref={this.dialog}>\n        <OptionsComponent data={data} onChange={this.handleChange} />\n        <ButtonGroup style={{ marginTop: 20 }}>\n          <Button text={'Save'} color={'#8bc34a'} onClick={this.saveData} />\n          <Button text={'Cancel'} color={'#e85454'} onClick={this.close} />\n        </ButtonGroup>\n      </Dialog>\n    )\n  }\n}\n\nexport default WidgetEditDialog\n"]},"metadata":{},"sourceType":"module"}