{"ast":null,"code":"import _Reflect$construct from \"@babel/runtime-corejs2/core-js/reflect/construct\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = _Reflect$construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !_Reflect$construct) return false; if (_Reflect$construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(_Reflect$construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\n/**\n * @fileoverview Menu sidebar for the administrator pages, used to navigate the\n * admin interface and log out)\n */\nimport Link from 'next/link';\nimport { Component } from 'react';\nimport Router, { withRouter } from 'next/router';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faKey, faTv, faEye, faThLarge, faImages, faSignOutAlt } from '@fortawesome/free-solid-svg-icons';\nimport DropdownButton from '../DropdownButton';\nimport { view } from 'react-easy-state';\nimport { logout } from '../../helpers/auth';\nimport { display } from '../../stores';\nimport { getDisplays } from '../../actions/display';\n\nvar Sidebar = /*#__PURE__*/function (_Component) {\n  _inherits(Sidebar, _Component);\n\n  var _super = _createSuper(Sidebar);\n\n  function Sidebar(props) {\n    var _this;\n\n    _classCallCheck(this, Sidebar);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"navigateToAdmin\", function (id) {\n      Router.push('/layout?display=' + id);\n      display.setId(id);\n    });\n\n    _this.state = {\n      displays: props.displays || []\n    };\n    return _this;\n  }\n\n  _createClass(Sidebar, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var host = window.location.origin;\n      getDisplays(host).then(function (displays) {\n        _this2.setState({\n          displays: displays\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          router = _this$props.router,\n          loggedIn = _this$props.loggedIn;\n      var displays = this.state.displays;\n      var menu = loggedIn ? [{\n        id: 'playlist',\n        name: 'playlist',\n        path: '/playlist?display=' + display.id,\n        icon: faTv\n      }, {\n        id: 'layout',\n        name: 'Layout',\n        path: '/layout?display=' + display.id,\n        icon: faThLarge\n      }, {\n        id: 'preview',\n        name: 'Preview',\n        path: '/preview?display=' + display.id,\n        icon: faEye\n      }, {\n        id: 'slideshow',\n        name: 'Slideshows',\n        path: '/slideshows?display=' + display.id,\n        icon: faImages\n      }] : [{\n        id: 'login',\n        name: 'Login',\n        path: '/login?display=' + display.id,\n        icon: faKey\n      }];\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"jsx-1970977538\" + \" \" + 'sidebar'\n      }, loggedIn && /*#__PURE__*/React.createElement(DropdownButton, {\n        onSelect: this.navigateToAdmin,\n        choices: displays.map(function (display) {\n          return {\n            key: display._id,\n            name: display.name\n          };\n        }),\n        style: {\n          marginTop: 20,\n          marginBottom: 20\n        },\n        menuStyle: {\n          left: 20,\n          top: '70%'\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"jsx-1970977538\" + \" \" + 'logo'\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"jsx-1970977538\" + \" \" + 'icon'\n      }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n        icon: faTv,\n        fixedWidth: true,\n        color: \"#334467\"\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"jsx-1970977538\" + \" \" + 'info'\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"jsx-1970977538\" + \" \" + 'name'\n      }, display.name)), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"jsx-1970977538\" + \" \" + 'caret'\n      }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n        icon: 'caret-down',\n        fixedWidth: true\n      })))), /*#__PURE__*/React.createElement(\"ul\", {\n        className: \"jsx-1970977538\" + \" \" + 'menu'\n      }, menu.map(function (item) {\n        return /*#__PURE__*/React.createElement(Link, {\n          href: item.path,\n          key: item.path\n        }, /*#__PURE__*/React.createElement(\"li\", {\n          className: \"jsx-1970977538\" + \" \" + (item.path == router.pathname && 'active' || \"\")\n        }, /*#__PURE__*/React.createElement(\"a\", {\n          className: \"jsx-1970977538\"\n        }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n          icon: item.icon,\n          fixedWidth: true\n        }), /*#__PURE__*/React.createElement(\"span\", {\n          className: \"jsx-1970977538\" + \" \" + 'text'\n        }, '   ', item.name))));\n      })), /*#__PURE__*/React.createElement(Link, {\n        href: \"/\"\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"jsx-1970977538\" + \" \" + 'back'\n      }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n        icon: faSignOutAlt,\n        fixedWidth: true\n      }), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"jsx-1970977538\" + \" \" + 'text'\n      }, '   home'))), /*#__PURE__*/React.createElement(_JSXStyle, {\n        id: \"1970977538\"\n      }, \".sidebar.jsx-1970977538{min-width:300px;max-width:300px;min-height:100vh;background:white;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}.menu.jsx-1970977538{list-style:none;padding:0px;margin:0px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-flex:1;-ms-flex:1;flex:1;width:100%;}.menu.jsx-1970977538 li.jsx-1970977538,.back.jsx-1970977538{padding:20px;text-transform:uppercase;font-family:'Open Sans',sans-serif;font-size:16px;font-weight:600;color:#4f4f4f;}.menu.jsx-1970977538 li.active.jsx-1970977538,.menu.jsx-1970977538 li.jsx-1970977538:hover,.back.jsx-1970977538:hover{background:#f0f0f0;cursor:pointer;}.menu.jsx-1970977538 li.jsx-1970977538 .text.jsx-1970977538{margin-left:8px;}.logo.jsx-1970977538{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;padding-right:10px;padding-left:10px;position:relative;cursor:pointer;}.logo.jsx-1970977538 .icon.jsx-1970977538{min-width:3em;min-height:3em;padding:20px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-transform:scale(2);-ms-transform:scale(2);transform:scale(2);}.logo.jsx-1970977538 .info.jsx-1970977538{font-family:'Open Sans',sans-serif;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;white-space:nowrap;overflow:hidden;}.logo.jsx-1970977538 .info.jsx-1970977538 .name.jsx-1970977538{font-weight:600;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}.logo.jsx-1970977538 .caret.jsx-1970977538{position:absolute;top:50%;margin-top:-8px;right:16px;}@media only screen and (max-width:900px){.sidebar.jsx-1970977538{min-width:0px;}.logo.jsx-1970977538 .info.jsx-1970977538{display:none;}.logo.jsx-1970977538 .icon.jsx-1970977538{min-width:0px;min-height:0px;-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1);}.logo.jsx-1970977538{margin:0px;padding:0px;}.menu.jsx-1970977538 li.jsx-1970977538 .text.jsx-1970977538,.logout.jsx-1970977538 .text.jsx-1970977538{display:none;}}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcdXNlclxcRGVza3RvcFxcZGlnaXRhbHNpZ25hZ2UtbWFzdGVyXFxjb21wb25lbnRzXFxBZG1pblxcU2lkZWJhci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFrSVcsQUFHK0IsQUFRQSxBQVVILEFBVU0sQUFJSCxBQUdILEFBUUMsQUFTc0IsQUFRcEIsQUFPRSxBQU9GLEFBR0QsQUFHQyxBQUtILEFBS0UsV0FKRCxFQW5FVyxBQTJEekIsQUFhQSxDQS9DZSxBQStCZixBQU1pQixFQWhGRCxBQVFKLEFBd0JkLEFBNEJxQixFQU9YLENBdkNPLElBMERmLEdBbEJnQixFQTNETCxDQW1DRSxBQXFDUSxHQWhGSixFQTRCbkIsQ0F1QmUsQUFTRyxHQTFDb0IsQ0FUdkIsR0FtQ0EsQUF3QkYsT0FuRU0sRUE0RE0sRUFRekIsYUFuRWUsT0FpQkUsQ0FlSSxBQTRCckIsY0ExQ2tCLFVBNkRoQixNQTVEYyxLQStCUSxJQTFDQSxHQW1DQyxFQXZCekIsc0JBbkJ3QixHQWdDSCxtQkFDRCxrQkFDQSxPQWdCSyxJQTFDaEIsT0EyQlEsZUFDakIsRUFPcUIsR0ExQ3JCLE1BUWEsV0FDYixtREF5Q3FCLG1CQUNILEdBUkcsYUFTckIsd0RBUkEiLCJmaWxlIjoiQzpcXFVzZXJzXFx1c2VyXFxEZXNrdG9wXFxkaWdpdGFsc2lnbmFnZS1tYXN0ZXJcXGNvbXBvbmVudHNcXEFkbWluXFxTaWRlYmFyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IE1lbnUgc2lkZWJhciBmb3IgdGhlIGFkbWluaXN0cmF0b3IgcGFnZXMsIHVzZWQgdG8gbmF2aWdhdGUgdGhlXG4gKiBhZG1pbiBpbnRlcmZhY2UgYW5kIGxvZyBvdXQpXG4gKi9cblxuaW1wb3J0IExpbmsgZnJvbSAnbmV4dC9saW5rJ1xuaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgUm91dGVyLCB7IHdpdGhSb3V0ZXIgfSBmcm9tICduZXh0L3JvdXRlcidcbmltcG9ydCB7IEZvbnRBd2Vzb21lSWNvbiB9IGZyb20gJ0Bmb3J0YXdlc29tZS9yZWFjdC1mb250YXdlc29tZSdcbmltcG9ydCB7XG4gIGZhS2V5LFxuICBmYVR2LFxuICBmYUV5ZSxcbiAgZmFUaExhcmdlLFxuICBmYUltYWdlcyxcbiAgZmFTaWduT3V0QWx0XG59IGZyb20gJ0Bmb3J0YXdlc29tZS9mcmVlLXNvbGlkLXN2Zy1pY29ucydcbmltcG9ydCBEcm9wZG93bkJ1dHRvbiBmcm9tICcuLi9Ecm9wZG93bkJ1dHRvbidcbmltcG9ydCB7IHZpZXcgfSBmcm9tICdyZWFjdC1lYXN5LXN0YXRlJ1xuXG5pbXBvcnQgeyBsb2dvdXQgfSBmcm9tICcuLi8uLi9oZWxwZXJzL2F1dGgnXG5pbXBvcnQgeyBkaXNwbGF5IH0gZnJvbSAnLi4vLi4vc3RvcmVzJ1xuaW1wb3J0IHsgZ2V0RGlzcGxheXMgfSBmcm9tICcuLi8uLi9hY3Rpb25zL2Rpc3BsYXknXG5cbmNsYXNzIFNpZGViYXIgZXh0ZW5kcyBDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGRpc3BsYXlzOiBwcm9wcy5kaXNwbGF5cyB8fCBbXVxuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGNvbnN0IGhvc3QgPSB3aW5kb3cubG9jYXRpb24ub3JpZ2luXG4gICAgZ2V0RGlzcGxheXMoaG9zdCkudGhlbihkaXNwbGF5cyA9PiB7XG4gICAgICB0aGlzLnNldFN0YXRlKHsgZGlzcGxheXMgfSlcbiAgICB9KVxuICB9XG5cbiAgbmF2aWdhdGVUb0FkbWluID0gaWQgPT4ge1xuICAgIFJvdXRlci5wdXNoKCcvbGF5b3V0P2Rpc3BsYXk9JyArIGlkKVxuICAgIGRpc3BsYXkuc2V0SWQoaWQpXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyByb3V0ZXIsIGxvZ2dlZEluIH0gPSB0aGlzLnByb3BzXG4gICAgY29uc3QgeyBkaXNwbGF5cyB9ID0gdGhpcy5zdGF0ZVxuICAgIGNvbnN0IG1lbnUgPSBsb2dnZWRJblxuICAgICAgPyBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgaWQ6ICdwbGF5bGlzdCcsXG4gICAgICAgICAgICBuYW1lOiAncGxheWxpc3QnLFxuICAgICAgICAgICAgcGF0aDogJy9wbGF5bGlzdD9kaXNwbGF5PScgKyBkaXNwbGF5LmlkLFxuICAgICAgICAgICAgaWNvbjogZmFUdlxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgaWQ6ICdsYXlvdXQnLFxuICAgICAgICAgICAgbmFtZTogJ0xheW91dCcsXG4gICAgICAgICAgICBwYXRoOiAnL2xheW91dD9kaXNwbGF5PScgKyBkaXNwbGF5LmlkLFxuICAgICAgICAgICAgaWNvbjogZmFUaExhcmdlXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBpZDogJ3ByZXZpZXcnLFxuICAgICAgICAgICAgbmFtZTogJ1ByZXZpZXcnLFxuICAgICAgICAgICAgcGF0aDogJy9wcmV2aWV3P2Rpc3BsYXk9JyArIGRpc3BsYXkuaWQsXG4gICAgICAgICAgICBpY29uOiBmYUV5ZVxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgaWQ6ICdzbGlkZXNob3cnLFxuICAgICAgICAgICAgbmFtZTogJ1NsaWRlc2hvd3MnLFxuICAgICAgICAgICAgcGF0aDogJy9zbGlkZXNob3dzP2Rpc3BsYXk9JyArIGRpc3BsYXkuaWQsXG4gICAgICAgICAgICBpY29uOiBmYUltYWdlc1xuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgaWQ6ICdsb2dpbicsXG4gICAgICAgICAgICBuYW1lOiAnTG9naW4nLFxuICAgICAgICAgICAgcGF0aDogJy9sb2dpbj9kaXNwbGF5PScgKyBkaXNwbGF5LmlkLFxuICAgICAgICAgICAgaWNvbjogZmFLZXlcbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9J3NpZGViYXInPlxuICAgICAgICB7bG9nZ2VkSW4gJiYgKFxuICAgICAgICAgIDxEcm9wZG93bkJ1dHRvblxuICAgICAgICAgICAgb25TZWxlY3Q9e3RoaXMubmF2aWdhdGVUb0FkbWlufVxuICAgICAgICAgICAgY2hvaWNlcz17ZGlzcGxheXMubWFwKGRpc3BsYXkgPT4gKHtcbiAgICAgICAgICAgICAga2V5OiBkaXNwbGF5Ll9pZCxcbiAgICAgICAgICAgICAgbmFtZTogZGlzcGxheS5uYW1lXG4gICAgICAgICAgICB9KSl9XG4gICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5Ub3A6IDIwLCBtYXJnaW5Cb3R0b206IDIwIH19XG4gICAgICAgICAgICBtZW51U3R5bGU9e3sgbGVmdDogMjAsIHRvcDogJzcwJScgfX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nbG9nbyc+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdpY29uJz5cbiAgICAgICAgICAgICAgICA8Rm9udEF3ZXNvbWVJY29uIGljb249e2ZhVHZ9IGZpeGVkV2lkdGggY29sb3I9JyMzMzQ0NjcnIC8+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0naW5mbyc+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPSduYW1lJz57ZGlzcGxheS5uYW1lfTwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdjYXJldCc+XG4gICAgICAgICAgICAgICAgPEZvbnRBd2Vzb21lSWNvbiBpY29uPXsnY2FyZXQtZG93bid9IGZpeGVkV2lkdGggLz5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L0Ryb3Bkb3duQnV0dG9uPlxuICAgICAgICApfVxuICAgICAgICA8dWwgY2xhc3NOYW1lPSdtZW51Jz5cbiAgICAgICAgICB7bWVudS5tYXAoaXRlbSA9PiAoXG4gICAgICAgICAgICA8TGluayBocmVmPXtpdGVtLnBhdGh9IGtleT17aXRlbS5wYXRofT5cbiAgICAgICAgICAgICAgPGxpIGNsYXNzTmFtZT17aXRlbS5wYXRoID09IHJvdXRlci5wYXRobmFtZSAmJiAnYWN0aXZlJ30+XG4gICAgICAgICAgICAgICAgPGE+XG4gICAgICAgICAgICAgICAgICA8Rm9udEF3ZXNvbWVJY29uIGljb249e2l0ZW0uaWNvbn0gZml4ZWRXaWR0aCAvPlxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXsndGV4dCd9PlxuICAgICAgICAgICAgICAgICAgICB7JyAgICd9XG4gICAgICAgICAgICAgICAgICAgIHtpdGVtLm5hbWV9XG4gICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgPC9MaW5rPlxuICAgICAgICAgICkpfVxuICAgICAgICA8L3VsPlxuICAgICAgICA8TGluayBocmVmPScvJz5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9J2JhY2snPlxuICAgICAgICAgICAgICA8Rm9udEF3ZXNvbWVJY29uIGljb249e2ZhU2lnbk91dEFsdH0gZml4ZWRXaWR0aCAvPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9eyd0ZXh0J30+eycgICBob21lJ308L3NwYW4+XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPC9MaW5rPlxuICAgICAgICA8c3R5bGUganN4PlxuICAgICAgICAgIHtgXG4gICAgICAgICAgICAuc2lkZWJhciB7XG4gICAgICAgICAgICAgIG1pbi13aWR0aDogMzAwcHg7XG4gICAgICAgICAgICAgIG1heC13aWR0aDogMzAwcHg7XG4gICAgICAgICAgICAgIG1pbi1oZWlnaHQ6IDEwMHZoO1xuICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiB3aGl0ZTtcbiAgICAgICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC5tZW51IHtcbiAgICAgICAgICAgICAgbGlzdC1zdHlsZTogbm9uZTtcbiAgICAgICAgICAgICAgcGFkZGluZzogMHB4O1xuICAgICAgICAgICAgICBtYXJnaW46IDBweDtcbiAgICAgICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgICAgICAgZmxleDogMTtcbiAgICAgICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAubWVudSBsaSxcbiAgICAgICAgICAgIC5iYWNrIHtcbiAgICAgICAgICAgICAgcGFkZGluZzogMjBweDtcbiAgICAgICAgICAgICAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbiAgICAgICAgICAgICAgZm9udC1mYW1pbHk6ICdPcGVuIFNhbnMnLCBzYW5zLXNlcmlmO1xuICAgICAgICAgICAgICBmb250LXNpemU6IDE2cHg7XG4gICAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7XG4gICAgICAgICAgICAgIGNvbG9yOiAjNGY0ZjRmO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLm1lbnUgbGkuYWN0aXZlLFxuICAgICAgICAgICAgLm1lbnUgbGk6aG92ZXIsXG4gICAgICAgICAgICAuYmFjazpob3ZlciB7XG4gICAgICAgICAgICAgIGJhY2tncm91bmQ6ICNmMGYwZjA7XG4gICAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC5tZW51IGxpIC50ZXh0IHtcbiAgICAgICAgICAgICAgbWFyZ2luLWxlZnQ6IDhweDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC5sb2dvIHtcbiAgICAgICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICAgICAgZmxleC1kaXJlY3Rpb246IHJvdztcbiAgICAgICAgICAgICAgcGFkZGluZy1yaWdodDogMTBweDtcbiAgICAgICAgICAgICAgcGFkZGluZy1sZWZ0OiAxMHB4O1xuICAgICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC5sb2dvIC5pY29uIHtcbiAgICAgICAgICAgICAgbWluLXdpZHRoOiAzZW07XG4gICAgICAgICAgICAgIG1pbi1oZWlnaHQ6IDNlbTtcbiAgICAgICAgICAgICAgcGFkZGluZzogMjBweDtcbiAgICAgICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgICAgICAgIHRyYW5zZm9ybTogc2NhbGUoMik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAubG9nbyAuaW5mbyB7XG4gICAgICAgICAgICAgIGZvbnQtZmFtaWx5OiAnT3BlbiBTYW5zJywgc2Fucy1zZXJpZjtcbiAgICAgICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgICAgICAgICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7XG4gICAgICAgICAgICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAubG9nbyAuaW5mbyAubmFtZSB7XG4gICAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7XG4gICAgICAgICAgICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7XG4gICAgICAgICAgICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgICAgICAgICAgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAubG9nbyAuY2FyZXQge1xuICAgICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgICAgICAgIHRvcDogNTAlO1xuICAgICAgICAgICAgICBtYXJnaW4tdG9wOiAtOHB4O1xuICAgICAgICAgICAgICByaWdodDogMTZweDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIEBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1heC13aWR0aDogOTAwcHgpIHtcbiAgICAgICAgICAgICAgLnNpZGViYXIge1xuICAgICAgICAgICAgICAgIG1pbi13aWR0aDogMHB4O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIC5sb2dvIC5pbmZvIHtcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBub25lO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIC5sb2dvIC5pY29uIHtcbiAgICAgICAgICAgICAgICBtaW4td2lkdGg6IDBweDtcbiAgICAgICAgICAgICAgICBtaW4taGVpZ2h0OiAwcHg7XG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtOiBzY2FsZSgxKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAubG9nbyB7XG4gICAgICAgICAgICAgICAgbWFyZ2luOiAwcHg7XG4gICAgICAgICAgICAgICAgcGFkZGluZzogMHB4O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIC5tZW51IGxpIC50ZXh0LFxuICAgICAgICAgICAgICAubG9nb3V0IC50ZXh0IHtcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBub25lO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgYH1cbiAgICAgICAgPC9zdHlsZT5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCB3aXRoUm91dGVyKHZpZXcoU2lkZWJhcikpXG4iXX0= */\\n/*@ sourceURL=C:\\\\Users\\\\user\\\\Desktop\\\\digitalsignage-master\\\\components\\\\Admin\\\\Sidebar.js */\"));\n    }\n  }]);\n\n  return Sidebar;\n}(Component);\n\nexport default withRouter(view(Sidebar));","map":{"version":3,"sources":["C:/Users/user/Desktop/digitalsignage-master/components/Admin/Sidebar.js"],"names":["Link","Component","Router","withRouter","FontAwesomeIcon","faKey","faTv","faEye","faThLarge","faImages","faSignOutAlt","DropdownButton","view","logout","display","getDisplays","Sidebar","props","id","push","setId","state","displays","host","window","location","origin","then","setState","router","loggedIn","menu","name","path","icon","navigateToAdmin","map","key","_id","marginTop","marginBottom","left","top","item","pathname"],"mappings":"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","sourcesContent":["/**\n * @fileoverview Menu sidebar for the administrator pages, used to navigate the\n * admin interface and log out)\n */\n\nimport Link from 'next/link'\nimport { Component } from 'react'\nimport Router, { withRouter } from 'next/router'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport {\n  faKey,\n  faTv,\n  faEye,\n  faThLarge,\n  faImages,\n  faSignOutAlt\n} from '@fortawesome/free-solid-svg-icons'\nimport DropdownButton from '../DropdownButton'\nimport { view } from 'react-easy-state'\n\nimport { logout } from '../../helpers/auth'\nimport { display } from '../../stores'\nimport { getDisplays } from '../../actions/display'\n\nclass Sidebar extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      displays: props.displays || []\n    }\n  }\n\n  componentDidMount() {\n    const host = window.location.origin\n    getDisplays(host).then(displays => {\n      this.setState({ displays })\n    })\n  }\n\n  navigateToAdmin = id => {\n    Router.push('/layout?display=' + id)\n    display.setId(id)\n  }\n\n  render() {\n    const { router, loggedIn } = this.props\n    const { displays } = this.state\n    const menu = loggedIn\n      ? [\n          {\n            id: 'playlist',\n            name: 'playlist',\n            path: '/playlist?display=' + display.id,\n            icon: faTv\n          },\n          {\n            id: 'layout',\n            name: 'Layout',\n            path: '/layout?display=' + display.id,\n            icon: faThLarge\n          },\n          {\n            id: 'preview',\n            name: 'Preview',\n            path: '/preview?display=' + display.id,\n            icon: faEye\n          },\n          {\n            id: 'slideshow',\n            name: 'Slideshows',\n            path: '/slideshows?display=' + display.id,\n            icon: faImages\n          }\n        ]\n      : [\n          {\n            id: 'login',\n            name: 'Login',\n            path: '/login?display=' + display.id,\n            icon: faKey\n          }\n        ]\n    return (\n      <div className='sidebar'>\n        {loggedIn && (\n          <DropdownButton\n            onSelect={this.navigateToAdmin}\n            choices={displays.map(display => ({\n              key: display._id,\n              name: display.name\n            }))}\n            style={{ marginTop: 20, marginBottom: 20 }}\n            menuStyle={{ left: 20, top: '70%' }}\n          >\n            <div className='logo'>\n              <div className='icon'>\n                <FontAwesomeIcon icon={faTv} fixedWidth color='#334467' />\n              </div>\n              <div className='info'>\n                <span className='name'>{display.name}</span>\n              </div>\n              <div className='caret'>\n                <FontAwesomeIcon icon={'caret-down'} fixedWidth />\n              </div>\n            </div>\n          </DropdownButton>\n        )}\n        <ul className='menu'>\n          {menu.map(item => (\n            <Link href={item.path} key={item.path}>\n              <li className={item.path == router.pathname && 'active'}>\n                <a>\n                  <FontAwesomeIcon icon={item.icon} fixedWidth />\n                  <span className={'text'}>\n                    {'   '}\n                    {item.name}\n                  </span>\n                </a>\n              </li>\n            </Link>\n          ))}\n        </ul>\n        <Link href='/'>\n          <span className='back'>\n              <FontAwesomeIcon icon={faSignOutAlt} fixedWidth />\n              <span className={'text'}>{'   home'}</span>\n            </span>\n          </Link>\n        <style jsx>\n          {`\n            .sidebar {\n              min-width: 300px;\n              max-width: 300px;\n              min-height: 100vh;\n              background: white;\n              display: flex;\n              flex-direction: column;\n            }\n            .menu {\n              list-style: none;\n              padding: 0px;\n              margin: 0px;\n              display: flex;\n              flex-direction: column;\n              flex: 1;\n              width: 100%;\n            }\n            .menu li,\n            .back {\n              padding: 20px;\n              text-transform: uppercase;\n              font-family: 'Open Sans', sans-serif;\n              font-size: 16px;\n              font-weight: 600;\n              color: #4f4f4f;\n            }\n            .menu li.active,\n            .menu li:hover,\n            .back:hover {\n              background: #f0f0f0;\n              cursor: pointer;\n            }\n            .menu li .text {\n              margin-left: 8px;\n            }\n            .logo {\n              display: flex;\n              flex-direction: row;\n              padding-right: 10px;\n              padding-left: 10px;\n              position: relative;\n              cursor: pointer;\n            }\n            .logo .icon {\n              min-width: 3em;\n              min-height: 3em;\n              padding: 20px;\n              display: flex;\n              justify-content: center;\n              align-items: center;\n              transform: scale(2);\n            }\n            .logo .info {\n              font-family: 'Open Sans', sans-serif;\n              display: flex;\n              flex-direction: column;\n              justify-content: center;\n              white-space: nowrap;\n              overflow: hidden;\n            }\n            .logo .info .name {\n              font-weight: 600;\n              white-space: nowrap;\n              overflow: hidden;\n              text-overflow: ellipsis;\n            }\n\n            .logo .caret {\n              position: absolute;\n              top: 50%;\n              margin-top: -8px;\n              right: 16px;\n            }\n            @media only screen and (max-width: 900px) {\n              .sidebar {\n                min-width: 0px;\n              }\n              .logo .info {\n                display: none;\n              }\n              .logo .icon {\n                min-width: 0px;\n                min-height: 0px;\n                transform: scale(1);\n              }\n              .logo {\n                margin: 0px;\n                padding: 0px;\n              }\n              .menu li .text,\n              .logout .text {\n                display: none;\n              }\n            }\n          `}\n        </style>\n      </div>\n    )\n  }\n}\n\nexport default withRouter(view(Sidebar))\n"]},"metadata":{},"sourceType":"module"}