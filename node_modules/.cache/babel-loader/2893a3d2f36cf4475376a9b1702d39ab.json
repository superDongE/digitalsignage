{"ast":null,"code":"import _Reflect$construct from \"@babel/runtime-corejs2/core-js/reflect/construct\";\nimport _toConsumableArray from \"@babel/runtime-corejs2/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport _JSXStyle from \"styled-jsx/style\";\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = _Reflect$construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !_Reflect$construct) return false; if (_Reflect$construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(_Reflect$construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { Component } from 'react';\nimport React from 'react';\nimport ContentLoader from 'react-content-loader';\nimport { SortableContainer, SortableElement } from 'react-sortable-hoc';\nimport arrayMove from 'array-move';\nimport SlideCard from './SlideCard';\nimport { getSlides } from '../../actions/slide';\nimport { reorderSlides } from '../../actions/slideshow';\nvar SortableItem = SortableElement(SlideCard);\nvar SortableList = SortableContainer(function (_ref) {\n  var items = _ref.items,\n      refresh = _ref.refresh;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"jsx-3355241823\" + \" \" + 'list'\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"jsx-3355241823\" + \" \" + 'timeline'\n  }), items.map(function (value, index) {\n    return /*#__PURE__*/React.createElement(SortableItem, {\n      key: \"item-\".concat(index),\n      index: index,\n      id: index,\n      value: value,\n      refresh: refresh\n    });\n  }), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"3355241823\"\n  }, \".list.jsx-3355241823{position:relative;}.timeline.jsx-3355241823{width:4px;height:calc(100% - 20px);border-radius:2px;position:absolute;left:50%;top:10px;margin-left:-2px;background:#cccccc;z-index:0;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xc7ZW064+ZMlxcRGVza3RvcFxc67O16rWs7J6R7JeF7KSRXFxkaWdpdGFsc2lnbmFnZS1lZGl0ICgzKVxcZGlnaXRhbHNpZ25hZ2UtZWRpdFxcY29tcG9uZW50c1xcQWRtaW5cXFNsaWRlTGlzdC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUEyQlMsQUFHK0IsQUFHUixVQUNlLFFBSDNCLGlCQUlvQixrQkFDQSxrQkFDVCxTQUNBLFNBQ1EsaUJBQ0UsbUJBQ1QsVUFDWiIsImZpbGUiOiJDOlxcVXNlcnNcXO2VtOuPmTJcXERlc2t0b3BcXOuzteq1rOyekeyXheykkVxcZGlnaXRhbHNpZ25hZ2UtZWRpdCAoMylcXGRpZ2l0YWxzaWduYWdlLWVkaXRcXGNvbXBvbmVudHNcXEFkbWluXFxTbGlkZUxpc3QuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCdcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcbmltcG9ydCBDb250ZW50TG9hZGVyIGZyb20gJ3JlYWN0LWNvbnRlbnQtbG9hZGVyJ1xuaW1wb3J0IHsgU29ydGFibGVDb250YWluZXIsIFNvcnRhYmxlRWxlbWVudCB9IGZyb20gJ3JlYWN0LXNvcnRhYmxlLWhvYydcbmltcG9ydCBhcnJheU1vdmUgZnJvbSAnYXJyYXktbW92ZSdcblxuaW1wb3J0IFNsaWRlQ2FyZCBmcm9tICcuL1NsaWRlQ2FyZCdcblxuaW1wb3J0IHsgZ2V0U2xpZGVzIH0gZnJvbSAnLi4vLi4vYWN0aW9ucy9zbGlkZSdcbmltcG9ydCB7IHJlb3JkZXJTbGlkZXMgfSBmcm9tICcuLi8uLi9hY3Rpb25zL3NsaWRlc2hvdydcblxuY29uc3QgU29ydGFibGVJdGVtID0gU29ydGFibGVFbGVtZW50KFNsaWRlQ2FyZClcblxuY29uc3QgU29ydGFibGVMaXN0ID0gU29ydGFibGVDb250YWluZXIoKHsgaXRlbXMsIHJlZnJlc2ggfSkgPT4ge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXsnbGlzdCd9PlxuICAgICAgPGRpdiBjbGFzc05hbWU9eyd0aW1lbGluZSd9IC8+XG4gICAgICB7aXRlbXMubWFwKCh2YWx1ZSwgaW5kZXgpID0+IChcbiAgICAgICAgPFNvcnRhYmxlSXRlbVxuICAgICAgICAgIGtleT17YGl0ZW0tJHtpbmRleH1gfVxuICAgICAgICAgIGluZGV4PXtpbmRleH1cbiAgICAgICAgICBpZD17aW5kZXh9XG4gICAgICAgICAgdmFsdWU9e3ZhbHVlfVxuICAgICAgICAgIHJlZnJlc2g9e3JlZnJlc2h9XG4gICAgICAgIC8+XG4gICAgICApKX1cbiAgICAgIDxzdHlsZSBqc3g+XG4gICAgICAgIHtgXG4gICAgICAgICAgLmxpc3Qge1xuICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgICAgIH1cbiAgICAgICAgICAudGltZWxpbmUge1xuICAgICAgICAgICAgd2lkdGg6IDRweDtcbiAgICAgICAgICAgIGhlaWdodDogY2FsYygxMDAlIC0gMjBweCk7XG4gICAgICAgICAgICBib3JkZXItcmFkaXVzOiAycHg7XG4gICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgICAgICBsZWZ0OiA1MCU7XG4gICAgICAgICAgICB0b3A6IDEwcHg7XG4gICAgICAgICAgICBtYXJnaW4tbGVmdDogLTJweDtcbiAgICAgICAgICAgIGJhY2tncm91bmQ6ICNjY2NjY2M7XG4gICAgICAgICAgICB6LWluZGV4OiAwO1xuICAgICAgICAgIH1cbiAgICAgICAgYH1cbiAgICAgIDwvc3R5bGU+XG4gICAgPC9kaXY+XG4gIClcbn0pXG5cbmNsYXNzIFNsaWRlTGlzdCBleHRlbmRzIENvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgc2xpZGVzOiBudWxsXG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgY29uc3QgeyBzbGlkZXNob3cgfSA9IHRoaXMucHJvcHNcbiAgICBnZXRTbGlkZXMoc2xpZGVzaG93KS50aGVuKHNsaWRlcyA9PiB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgc2xpZGVzOiBzbGlkZXNcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxuXG4gIG9uU29ydEVuZCA9ICh7IG9sZEluZGV4LCBuZXdJbmRleCB9KSA9PiB7XG4gICAgY29uc3QgeyBzbGlkZXNob3cgfSA9IHRoaXMucHJvcHNcbiAgICB0aGlzLnNldFN0YXRlKFxuICAgICAge1xuICAgICAgICBzbGlkZXM6IFsuLi5hcnJheU1vdmUodGhpcy5zdGF0ZS5zbGlkZXMsIG9sZEluZGV4LCBuZXdJbmRleCldXG4gICAgICB9LFxuICAgICAgKCkgPT4ge1xuICAgICAgICByZW9yZGVyU2xpZGVzKHNsaWRlc2hvdywgb2xkSW5kZXgsIG5ld0luZGV4KVxuICAgICAgfVxuICAgIClcbiAgfVxuXG4gIHJlZnJlc2ggPSAoKSA9PiB7XG4gICAgY29uc3QgeyBzbGlkZXNob3cgfSA9IHRoaXMucHJvcHNcbiAgICByZXR1cm4gZ2V0U2xpZGVzKHNsaWRlc2hvdykudGhlbihzbGlkZXMgPT4ge1xuICAgICAgcmV0dXJuIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBzbGlkZXM6IHNsaWRlc1xuICAgICAgfSlcbiAgICB9KVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgc2xpZGVzIH0gPSB0aGlzLnN0YXRlXG4gICAgcmV0dXJuIHNsaWRlcyA/IChcbiAgICAgIDxTb3J0YWJsZUxpc3RcbiAgICAgICAgaXRlbXM9e3NsaWRlc31cbiAgICAgICAgcmVmcmVzaD17dGhpcy5yZWZyZXNofVxuICAgICAgICBvblNvcnRFbmQ9e3RoaXMub25Tb3J0RW5kfVxuICAgICAgICBkaXN0YW5jZT17Mn1cbiAgICAgICAgbG9ja0F4aXM9J3knXG4gICAgICAvPlxuICAgICkgOiAoXG4gICAgICBBcnJheSg0KVxuICAgICAgICAuZmlsbCgpXG4gICAgICAgIC5tYXAoKGksIGluZGV4KSA9PiAoXG4gICAgICAgICAgPENvbnRlbnRMb2FkZXIgaGVpZ2h0PXsxMjB9IHdpZHRoPXs2NDB9IGtleT17YGxvYWRpbmctJHtpbmRleH1gfT5cbiAgICAgICAgICAgIDxyZWN0IHg9JzAnIHk9JzAnIHJ4PSc1JyByeT0nNScgd2lkdGg9JzEwMCUnIGhlaWdodD0nMTAwJyAvPlxuICAgICAgICAgIDwvQ29udGVudExvYWRlcj5cbiAgICAgICAgKSlcbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgU2xpZGVMaXN0XG4iXX0= */\\n/*@ sourceURL=C:\\\\Users\\\\\\uD574\\uB3D92\\\\Desktop\\\\\\uBCF5\\uAD6C\\uC791\\uC5C5\\uC911\\\\digitalsignage-edit (3)\\\\digitalsignage-edit\\\\components\\\\Admin\\\\SlideList.js */\"));\n});\n\nvar SlideList = /*#__PURE__*/function (_Component) {\n  _inherits(SlideList, _Component);\n\n  var _super = _createSuper(SlideList);\n\n  function SlideList(props) {\n    var _this;\n\n    _classCallCheck(this, SlideList);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"onSortEnd\", function (_ref2) {\n      var oldIndex = _ref2.oldIndex,\n          newIndex = _ref2.newIndex;\n      var slideshow = _this.props.slideshow;\n\n      _this.setState({\n        slides: _toConsumableArray(arrayMove(_this.state.slides, oldIndex, newIndex))\n      }, function () {\n        reorderSlides(slideshow, oldIndex, newIndex);\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"refresh\", function () {\n      var slideshow = _this.props.slideshow;\n      return getSlides(slideshow).then(function (slides) {\n        return _this.setState({\n          slides: slides\n        });\n      });\n    });\n\n    _this.state = {\n      slides: null\n    };\n    return _this;\n  }\n\n  _createClass(SlideList, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var slideshow = this.props.slideshow;\n      getSlides(slideshow).then(function (slides) {\n        _this2.setState({\n          slides: slides\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var slides = this.state.slides;\n      return slides ? /*#__PURE__*/React.createElement(SortableList, {\n        items: slides,\n        refresh: this.refresh,\n        onSortEnd: this.onSortEnd,\n        distance: 2,\n        lockAxis: \"y\"\n      }) : Array(4).fill().map(function (i, index) {\n        return /*#__PURE__*/React.createElement(ContentLoader, {\n          height: 120,\n          width: 640,\n          key: \"loading-\".concat(index)\n        }, /*#__PURE__*/React.createElement(\"rect\", {\n          x: \"0\",\n          y: \"0\",\n          rx: \"5\",\n          ry: \"5\",\n          width: \"100%\",\n          height: \"100\"\n        }));\n      });\n    }\n  }]);\n\n  return SlideList;\n}(Component);\n\nexport default SlideList;","map":{"version":3,"sources":["C:/Users/해동2/Desktop/복구작업중/digitalsignage-edit (3)/digitalsignage-edit/components/Admin/SlideList.js"],"names":["Component","React","ContentLoader","SortableContainer","SortableElement","arrayMove","SlideCard","getSlides","reorderSlides","SortableItem","SortableList","items","refresh","map","value","index","SlideList","props","oldIndex","newIndex","slideshow","setState","slides","state","then","onSortEnd","Array","fill","i"],"mappings":"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","sourcesContent":["import { Component } from 'react'\nimport React from 'react'\nimport ContentLoader from 'react-content-loader'\nimport { SortableContainer, SortableElement } from 'react-sortable-hoc'\nimport arrayMove from 'array-move'\n\nimport SlideCard from './SlideCard'\n\nimport { getSlides } from '../../actions/slide'\nimport { reorderSlides } from '../../actions/slideshow'\n\nconst SortableItem = SortableElement(SlideCard)\n\nconst SortableList = SortableContainer(({ items, refresh }) => {\n  return (\n    <div className={'list'}>\n      <div className={'timeline'} />\n      {items.map((value, index) => (\n        <SortableItem\n          key={`item-${index}`}\n          index={index}\n          id={index}\n          value={value}\n          refresh={refresh}\n        />\n      ))}\n      <style jsx>\n        {`\n          .list {\n            position: relative;\n          }\n          .timeline {\n            width: 4px;\n            height: calc(100% - 20px);\n            border-radius: 2px;\n            position: absolute;\n            left: 50%;\n            top: 10px;\n            margin-left: -2px;\n            background: #cccccc;\n            z-index: 0;\n          }\n        `}\n      </style>\n    </div>\n  )\n})\n\nclass SlideList extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      slides: null\n    }\n  }\n\n  componentDidMount() {\n    const { slideshow } = this.props\n    getSlides(slideshow).then(slides => {\n      this.setState({\n        slides: slides\n      })\n    })\n  }\n\n  onSortEnd = ({ oldIndex, newIndex }) => {\n    const { slideshow } = this.props\n    this.setState(\n      {\n        slides: [...arrayMove(this.state.slides, oldIndex, newIndex)]\n      },\n      () => {\n        reorderSlides(slideshow, oldIndex, newIndex)\n      }\n    )\n  }\n\n  refresh = () => {\n    const { slideshow } = this.props\n    return getSlides(slideshow).then(slides => {\n      return this.setState({\n        slides: slides\n      })\n    })\n  }\n\n  render() {\n    const { slides } = this.state\n    return slides ? (\n      <SortableList\n        items={slides}\n        refresh={this.refresh}\n        onSortEnd={this.onSortEnd}\n        distance={2}\n        lockAxis='y'\n      />\n    ) : (\n      Array(4)\n        .fill()\n        .map((i, index) => (\n          <ContentLoader height={120} width={640} key={`loading-${index}`}>\n            <rect x='0' y='0' rx='5' ry='5' width='100%' height='100' />\n          </ContentLoader>\n        ))\n    )\n  }\n}\n\nexport default SlideList\n"]},"metadata":{},"sourceType":"module"}